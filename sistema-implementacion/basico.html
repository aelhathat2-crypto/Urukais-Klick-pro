<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/rana.svg">
    <meta name="author" content="Manuel Casimiro Carrasco">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test B√°sico - Sistema Urukais</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px; 
            background: #1F2937; 
            color: white; 
        }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            border: 1px solid #374151; 
            border-radius: 8px; 
        }
        .success { color: #10B981; }
        .error { color: #EF4444; }
        .warning { color: #F59E0B; }
        button { 
            background: #6B46C1; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 5px; 
            cursor: pointer; 
            margin: 5px; 
        }
        button:hover { background: #9333EA; }
    </style>
</head>
<body>
    <h1>üß™ Test B√°sico del Sistema Urukais</h1>
    
    <div class="test-section">
        <h2>Estado de Carga</h2>
        <div id="load-status">
            <p>Cargando...</p>
        </div>
    </div>

    <div class="test-section">
        <h2>Test de Funcionalidades</h2>
        <button onclick="testJavaScript()">Test JavaScript</button>
        <button onclick="testSistema()">Test Sistema</button>
        <button onclick="testArchivos()">Test Archivos</button>
        <button onclick="abrirPrincipal()">Abrir Sistema Principal</button>
        <div id="test-results"></div>
    </div>

    <div class="test-section">
        <h2>Informaci√≥n del Navegador</h2>
        <div id="browser-info"></div>
    </div>

    <script>
        // Test b√°sico de carga
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('load-status');
            statusDiv.innerHTML = '<p class="success">‚úÖ JavaScript cargado correctamente</p>';
            statusDiv.innerHTML += '<p class="success">‚úÖ DOM cargado correctamente</p>';
            
            // Mostrar informaci√≥n del navegador
            const browserInfo = document.getElementById('browser-info');
            browserInfo.innerHTML = `
                <p><strong>Navegador:</strong> ${navigator.userAgent}</p>
                <p><strong>URL actual:</strong> ${window.location.href}</p>
                <p><strong>Protocolo:</strong> ${window.location.protocol}</p>
                <p><strong>Support localStorage:</strong> ${typeof(Storage) !== 'undefined' ? '‚úÖ S√≠' : '‚ùå No'}</p>
                <p><strong>Support ES6:</strong> ${typeof Promise !== 'undefined' ? '‚úÖ S√≠' : '‚ùå No'}</p>
            `;
        });

        function testJavaScript() {
            const results = document.getElementById('test-results');
            let output = '<h3>Resultado del Test JavaScript:</h3>';
            
            try {
                // Test funciones b√°sicas
                let testVar = 'Hola Mundo';
                let testArray = [1, 2, 3];
                let testObject = { nombre: 'test' };
                
                output += '<p class="success">‚úÖ Variables y tipos de datos</p>';
                output += '<p class="success">‚úÖ Funciones b√°sicas</p>';
                output += '<p class="success">‚úÖ Objetos y arrays</p>';
                
                // Test localStorage
                localStorage.setItem('test', 'valor');
                if (localStorage.getItem('test')) {
                    output += '<p class="success">‚úÖ localStorage funciona</p>';
                }
                
            } catch (error) {
                output += `<p class="error">‚ùå Error en JavaScript: ${error.message}</p>`;
            }
            
            results.innerHTML = output;
        }

        function testSistema() {
            const results = document.getElementById('test-results');
            let output = '<h3>Resultado del Test del Sistema:</h3>';
            
            // Verificar archivos principales
            const archivos = [
                'motor_gamificacion_urukais.js',
                'interfaz_gamificacion_urukais.js', 
                'sistema_desafios_competencias_urukais.js',
                'sistema_rutas_tematicas_urukais.js',
                'demo.js'
            ];
            
            output += '<p><strong>Verificando archivos:</strong></p>';
            
            // Test carga de archivos (esto es limitado en navegador)
            output += '<p class="warning">‚ö†Ô∏è Nota: Algunos navegadores pueden bloquear la carga de archivos locales</p>';
            output += '<p class="warning">‚ö†Ô∏è Si usas protocolo file://, algunos scripts pueden no cargar</p>';
            
            results.innerHTML = output;
        }

        function testArchivos() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Archivos encontrados en el directorio:</h3>';
            results.innerHTML += '<ul>';
            results.innerHTML += '<li>index.html - Archivo principal</li>';
            results.innerHTML += '<li>styles.css - Estilos</li>';
            results.innerHTML += '<li>demo.js - Script de demo</li>';
            results.innerHTML += '<li>motor_gamificacion_urukais.js - Motor principal</li>';
            results.innerHTML += '<li>interfaz_gamificacion_urukais.js - Interfaz</li>';
            results.innerHTML += '<li>sistema_desafios_competencias_urukais.js - Desaf√≠os</li>';
            results.innerHTML += '<li>sistema_rutas_tematicas_urukais.js - Rutas</li>';
            results.innerHTML += '</ul>';
            
            results.innerHTML += '<h4>Soluciones para problemas comunes:</h4>';
            results.innerHTML += '<ul>';
            results.innerHTML += '<li><strong>Si ves errores de carga:</strong> Usar un servidor HTTP local</li>';
            results.innerHTML += '<li><strong>Si no funciona:</strong> Abrir desde Chrome/Firefox y presionar F12</li>';
            results.innerHTML += '<li><strong>Si hay errores de consola:</strong> Copiar los mensajes aqu√≠</li>';
            results.innerHTML += '</ul>';
        }

        function abrirPrincipal() {
            window.open('index.html', '_blank');
        }

        // Test autom√°tico al cargar
        setTimeout(() => {
            console.log('üß™ Test autom√°tico iniciado...');
            testJavaScript();
        }, 1000);
    </script>
</body>
</html>